# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã fnm multishells symlink

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ Cursor –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:

```bash
error: Can't create the symlink for multishells at "~/.local/state/fnm_multishells/...". 
Maybe there are some issues with permissions for the directory? Operation not permitted (os error 1)
```

## –ü—Ä–∏—á–∏–Ω–∞
Cursor sandbox –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–ª–∏–Ω–∫–æ–≤ –≤–Ω–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞. `fnm` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç multishells –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –≤–µ—Ä—Å–∏–π Node –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ shell —Å–µ—Å—Å–∏—è–º–∏.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ (‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ)
–°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö —Å–∏–º–ª–∏–Ω–∫–æ–≤:
- –ü—É—Ç—å: `~/.local/bin/cleanup-fnm-multishells.sh`
- –ó–∞–ø—É—Å–∫: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00 —É—Ç—Ä–∞ —á–µ—Ä–µ–∑ launchd
- –£–¥–∞–ª—è–µ—Ç —Å–∏–º–ª–∏–Ω–∫–∏ —Å—Ç–∞—Ä—à–µ 1 –¥–Ω—è

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏:

```bash
launchctl list | grep fnm
```

–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é:

```bash
~/.local/bin/cleanup-fnm-multishells.sh
```

### 2. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ .zshrc
–í `.zshrc` –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ —Ç–æ–º, —á—Ç–æ –æ—à–∏–±–∫–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ Cursor sandbox.

## –í–∞–∂–Ω–æ
- ‚ö†Ô∏è –û—à–∏–±–∫–∞ **–Ω–µ –≤–ª–∏—è–µ—Ç** –Ω–∞ —Ä–∞–±–æ—Ç—É Node.js –∏–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –í –æ–±—ã—á–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (Terminal.app, iTerm) `fnm` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥ —Å `required_permissions: ['all']` –æ—à–∏–±–∫–∏ –Ω–µ—Ç
- üßπ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `~/.local/state/fnm_multishells/` —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
1. –û—Ç–∫–ª—é—á–∏—Ç—å multishells –≤ fnm (–Ω–µ—Ç —è–≤–Ω–æ–≥–æ —Ñ–ª–∞–≥–∞ –≤ –≤–µ—Ä—Å–∏–∏ 1.37.2)
2. –ò–∑–º–µ–Ω–∏—Ç—å –ø—É—Ç—å —á–µ—Ä–µ–∑ XDG_STATE_HOME (—Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫)
3. –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É (—Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ, –Ω–æ –Ω–µ —Ä–µ—à–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤)
